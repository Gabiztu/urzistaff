<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Urzistaff — The Art of Assistance</title>
  <meta name="description" content="Find your perfect virtual partner. A curated marketplace for elite, vetted Virtual Assistants." />
  <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' rx='12' fill='%237F5AF0'/><text x='50%' y='54%' text-anchor='middle' font-size='34' font-family='Arial' fill='white'>UZ</text></svg>" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet" />
  <style>
    :root { --primary:#7F5AF0; --accent-1:#00C6CF; --accent-2:#F04E8A; --light-bg:#FFFFFF; --light-surface:#F8FAFC; --light-elev:#FFFFFF; --light-text:#0F172A; --light-muted:#475569; --light-border:#E2E8F0; --dark-bg:#0B0A10; --dark-surface:#14131B; --dark-elev:#1C1B22; --dark-text:#E5E7EB; --dark-muted:#94A3B8; --dark-border:#2B2A33; --radius:14px; --pill:999px; --shadow:0 8px 32px rgba(0,0,0,0.1); --ease-out:cubic-bezier(.22,1,.36,1); --space-1:4px; --space-2:8px; --space-3:clamp(10px,2vw,16px); --space-4:clamp(12px,2.4vw,20px); --space-6:clamp(16px,3vw,24px); --card-pad:var(--space-4); --card-gap:var(--space-3); --text-sm:clamp(12px,1.2vw,14px); --text-md:clamp(14px,1.4vw,16px); --text-lg:clamp(16px,1.6vw,20px); --text-xl:clamp(24px,4vw,40px);} 
    html[data-theme="light"]{--bg:var(--light-bg);--surface:var(--light-surface);--elev:var(--light-elev);--text:var(--light-text);--muted:var(--light-muted);--border:var(--light-border)}
    html[data-theme="dark"]{--bg:var(--dark-bg);--surface:var(--dark-surface);--elev:var(--dark-elev);--text:var(--dark-text);--muted:var(--dark-muted);--border:var(--dark-border);--shadow:0 8px 40px rgba(0,0,0,0.4)}
    *,*::before,*::after{box-sizing:border-box} html{scroll-behavior:smooth; scrollbar-gutter: stable both-edges}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui;color:var(--text);background:var(--bg);line-height:1.6;transition:background-color .4s var(--ease-out),color .4s var(--ease-out)}
    .container{max-width:1200px;margin:0 auto;padding:0 var(--space-4)} .reveal{opacity:0;transform:translateY(20px)} .reveal.in{opacity:1;transform:none;transition:opacity .8s var(--ease-out),transform .8s var(--ease-out)} @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
    .prologue-hero{height:100vh;width:100%;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:16px;background-color:var(--dark-bg);overflow:hidden}
    .prologue-hero-content{z-index:10}
    @keyframes popInCenter{0%{opacity:0;transform:scale(.82)}60%{opacity:1;transform:scale(1.02)}100%{opacity:1;transform:none}}
    .prologue-hero h1{animation:popInCenter 1.35s var(--ease-out) .1s both;will-change:transform,opacity}
    .prologue-hero h1{font-family:"Space Grotesk",sans-serif;font-weight:800;font-size:clamp(3.25rem,8.5vw,6.5rem);line-height:1.08;letter-spacing:-2px;margin:0 auto 36px;max-width:1000px;color:var(--dark-text)}
    .prologue-hero .highlight{display:inline-block;background:linear-gradient(45deg,#7F5AF0,#00C6CF);-webkit-background-clip:text;background-clip:text;color:transparent}
    .prologue-hero .highlight-1,.prologue-hero .highlight-2{display:inline-block;background-clip:text;-webkit-background-clip:text;color:transparent}
    .prologue-hero .highlight-1{background-image:linear-gradient(120deg,#A855F7,#7F5AF0)} .prologue-hero .highlight-2{background-image:linear-gradient(120deg,#00C6CF,#56CFE1)}
    .skill-cloud{display:flex;flex-wrap:wrap;justify-content:center;gap:12px}
    .skill-tag{font-size:14px;font-weight:600;padding:12px 22px;border-radius:30px;background:rgba(255,255,255,0.03);color:var(--dark-text);border:1px solid rgba(255,255,255,0.12);cursor:pointer;transition:all .25s var(--ease-out);box-shadow:0 1px 0 rgba(255,255,255,0.06) inset;animation:popInCenter .95s var(--ease-out) .35s both;will-change:transform,opacity}
    .skill-tag:hover{background-color:var(--primary);border-color:var(--primary);color:#fff;transform:translateY(-2px)} .skill-tag.active{background-color:var(--primary);border-color:var(--primary);color:#fff}
    .skill-tag:nth-child(2){animation:popInCenter .95s var(--ease-out) .45s both, float 6s ease-in-out 0s infinite}
    .skill-tag:nth-child(4){animation:popInCenter .95s var(--ease-out) .55s both, float 6s ease-in-out 2s infinite}
    .cta-group .btn{animation:popInCenter 1.2s var(--ease-out) .85s both;will-change:transform,opacity}
    .cta-group .btn:nth-child(2){animation-delay:1.0s}
    @keyframes fadeInUp{to{opacity:1;transform:none}}
    .cta-group{display:flex;gap:12px;justify-content:center;margin-top:22px;flex-wrap:wrap}
    .cta-group .btn{min-width:180px;padding:12px 22px}
    #constellation{position:absolute;inset:0;z-index:1}
    .main-content{background:var(--bg);position:relative;z-index:20}
    .section{padding:clamp(48px,8vw,80px) 0} .section-title{font-family:"Space Grotesk",sans-serif;font-size:var(--text-xl);text-align:center;margin-bottom:var(--space-6)}
    .cards{display:grid;gap:var(--card-gap);grid-template-columns:1fr} @media(min-width:600px){.cards{grid-template-columns:repeat(2,1fr)}} @media(min-width:1024px){.cards{grid-template-columns:repeat(3,1fr)}}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:var(--card-pad);display:flex;flex-direction:column;transition:transform .2s var(--ease-out),box-shadow .2s var(--ease-out);position:relative;overflow:hidden;container-type:inline-size;z-index:1}
    .card:hover{transform:translateY(-4px);box-shadow:var(--shadow);border-color:color-mix(in oklab,var(--primary),var(--border) 60%);z-index:2}
    .card::before{content:"";position:absolute;left:var(--x,50%);top:var(--y,50%);width:150px;height:150px;background:radial-gradient(circle,color-mix(in oklab,var(--primary),transparent 70%),transparent 100%);transform:translate(-50%,-50%);opacity:0;transition:opacity .4s var(--ease-out);pointer-events:none}
    .card:hover::before{opacity:.15}
    .card-top{display:flex;justify-content:space-between;align-items:start} .avatar{width:44px;height:44px;border-radius:var(--pill);display:grid;place-items:center;font-weight:700;color:#fff;background:linear-gradient(135deg,var(--primary),var(--accent-1));flex-shrink:0}
    .badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:var(--pill);font-size:12px;border:1px solid var(--border);color:var(--muted);background:var(--elev)}
    .skills{display:flex;gap:var(--space-2);flex-wrap:wrap;margin:var(--space-3) 0} .skill{font-size:var(--text-sm);padding:6px 10px;border-radius:var(--pill);border:1px solid var(--border);color:var(--muted);background:var(--elev)}
    .card-actions{display:flex;gap:var(--space-2);margin-top:auto;flex-wrap:wrap} .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;border-radius:var(--pill);padding:10px 16px;font-weight:600;cursor:pointer;border:1px solid var(--border);background:var(--surface);color:var(--text);transition:transform .2s var(--ease-out),box-shadow .2s var(--ease-out);min-height:44px}
    .btn:hover{transform:translateY(-2px);box-shadow:var(--shadow)} .btn-primary{border-color:var(--primary);background:var(--primary);color:#fff}
    :focus-visible{outline:2px solid color-mix(in oklab,var(--primary),#fff 20%);outline-offset:2px}
    @container (max-width:380px){.avatar{width:40px;height:40px}.btn{padding:8px 14px;font-size:var(--text-sm)}.skills .skill{padding:4px 8px}}
    .process-section{display:grid;align-items:center;gap:48px;grid-template-columns:1fr} .process-visual{border-radius:16px;aspect-ratio:4/3;object-fit:cover;width:100%}
    .process-step{border-left:2px solid var(--primary);padding-left:24px;margin-bottom:32px} .process-step h3{font-family:"Space Grotesk";font-size:20px;margin:0 0 4px} .process-step p{color:var(--muted);margin:0}
    @media(min-width:900px){.process-section{grid-template-columns:1fr 1fr;gap:64px}}
    /* Carousel for home listings */
    .carousel{position:relative}
    .carousel-viewport{overflow:hidden; width:100%; padding-top:6px; overscroll-behavior:contain}
    .carousel-track{display:flex;transition:transform .55s var(--ease-out);will-change:transform}
    .carousel-page{flex:0 0 100%;padding:0}
    .carousel-page .cards{grid-template-columns:repeat(3,1fr); grid-auto-rows:auto}
    .carousel .card{min-height:190px}
    @media(max-width:1023px){.carousel-page .cards{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:599px){.carousel-page .cards{grid-template-columns:1fr}}
    .carousel-btn{position:absolute;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:50%;border:1px solid var(--border);background:var(--surface);color:var(--text);cursor:pointer;transition:transform .2s var(--ease-out), border-color .2s var(--ease-out);z-index:5}
    .carousel-btn.prev{left:-56px}
    .carousel-btn.next{right:-56px}
    .carousel-btn:hover{transform:translateY(-52%);border-color:#444}
    .carousel-btn[disabled]{opacity:.4;cursor:not-allowed;transform:translateY(-50%)}
    .carousel-btn svg{width:20px;height:20px}
    @media(max-width:1200px){.carousel-btn.prev{left:-28px}.carousel-btn.next{right:-28px}}
    @media(max-width:768px){.carousel-btn.prev{left:8px}.carousel-btn.next{right:8px}}
  </style>
</head>
<body>
  
  <div class="prologue-hero">
    <canvas id="constellation" aria-hidden="true"></canvas>
    <div class="prologue-hero-content">
      <h1>Your next <span class="highlight">game&#8209;changer</span> is a real person.</h1>
      <div class="skill-cloud">
        <button class="skill-tag">Content Creation</button>
        <button class="skill-tag">Social Media</button>
        <button class="skill-tag">Data Analysis</button>
        <button class="skill-tag">Email Management</button>
        <button class="skill-tag">Executive Support</button>
      </div>
      <div class="cta-group">
        <a class="btn btn-primary" href="/shop">Browse assistants</a>
        <a class="btn" href="#process">How it works</a>
      </div>
    </div>
  </div>
  <main class="main-content" id="content">
    <section class="section" id="browse">
      <div class="container">
        <h2 class="section-title reveal">Browse Available Experts</h2>
        <div class="carousel">
          <button class="carousel-btn prev" id="homePrev" aria-label="Previous">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 6l-6 6 6 6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <div class="carousel-viewport">
            <div class="carousel-track" id="homeListings"></div>
          </div>
          <button class="carousel-btn next" id="homeNext" aria-label="Next">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 6l6 6-6 6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>
    </section>
    <section class="section" id="process" style="background:var(--surface)">
      <div class="container process-section">
        <div class="process-visual-wrapper reveal">
          <img loading="lazy" src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1000&auto=format&fit=crop" alt="Professionals collaborating" class="process-visual" />
        </div>
        <div class="process-text reveal">
          <h2 style='font-family:"Space Grotesk";font-size:clamp(2rem,5vw,2.75rem);margin:0 0 24px;text-align:left'>The Process, Perfected.</h2>
          <div class="process-step"><h3>1. Curated Selection</h3><p>We do the heavy lifting. Every assistant is rigorously vetted for skill, reliability, and communication.</p></div>
          <div class="process-step"><h3>2. Precision Matching</h3><p>Our smart search and detailed profiles ensure you find the perfect partner for your specific needs, fast.</p></div>
          <div class="process-step"><h3>3. Seamless Collaboration</h3><p>With integrated tools and secure payments, working with your VA is simple, transparent, and effective.</p></div>
        </div>
      </div>
    </section>
  </main>
  <script>
    
    const hero=document.querySelector('.prologue-hero');const root=document.documentElement;const observer=new IntersectionObserver(entries=>{root.setAttribute('data-theme',entries[0].intersectionRatio>0.6?'dark':(window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light'));},{threshold:0.6});observer.observe(hero);const io_reveal=new IntersectionObserver(e=>e.forEach(entry=>entry.isIntersecting&&entry.target.classList.add('in')),{threshold:0.1});document.querySelectorAll('.reveal').forEach(el=>io_reveal.observe(el));const cards=document.querySelectorAll('.card');cards.forEach(card=>{card.addEventListener('mousemove',e=>{const rect=card.getBoundingClientRect();card.style.setProperty('--x',`${e.clientX-rect.left}px`);card.style.setProperty('--y',`${e.clientY-rect.top}px`);});});const canvas=document.getElementById('constellation');const ctx=canvas.getContext('2d');let dots=[];let running=true;const prefersReduced=window.matchMedia('(prefers-reduced-motion: reduce)').matches;const isSmall=window.matchMedia('(max-width: 600px)').matches;const particleFactor=prefersReduced?0:(isSmall?0.5:1);const setupCanvas=()=>{if(!canvas)return;canvas.width=window.innerWidth;canvas.height=window.innerHeight;dots=[];const baseCount=canvas.width/18;const count=Math.max(10,Math.floor(baseCount*particleFactor));for(let i=0;i<count;i++){dots.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,vx:-0.5+Math.random(),vy:-0.5+Math.random(),radius:Math.random()*1.5});}};setupCanvas();const vis=()=>{running=document.visibilityState==='visible';};document.addEventListener('visibilitychange',vis);const ioCanvas=new IntersectionObserver(([e])=>{running=e.isIntersecting;},{threshold:0.1});if(canvas)ioCanvas.observe(canvas);function animateLoop(){if(running&&!prefersReduced){ctx.clearRect(0,0,canvas.width,canvas.height);dots.forEach(d=>{d.x+=d.vx;d.y+=d.vy;if(d.x<0||d.x>canvas.width)d.vx=-d.vx;if(d.y<0||d.y>canvas.height)d.vy=-d.vy;ctx.beginPath();ctx.arc(d.x,d.y,d.radius,0,Math.PI*2);ctx.fillStyle='rgba(127, 90, 240, 0.6)';ctx.fill();});for(let i=0;i<dots.length;i++){for(let j=i+1;j<dots.length;j++){let dist=Math.hypot(dots[i].x-dots[j].x,dots[i].y-dots[j].y);if(dist<120){ctx.strokeStyle=`rgba(127, 90, 240, ${0.8-dist/120})`;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(dots[i].x,dots[i].y);ctx.lineTo(dots[j].x,dots[j].y);ctx.stroke();}}}}requestAnimationFrame(animateLoop);}animateLoop();window.addEventListener('resize',setupCanvas);
    (function(){
      const track = document.getElementById('homeListings');
      const btnPrev = document.getElementById('homePrev');
      const btnNext = document.getElementById('homeNext');
      if (!track || !btnPrev || !btnNext) return;
      const esc = (s) => String(s ?? '').replace(/[&<>"']/g, (c) => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]));
      const initials = (name='') => (name.trim().split(/\s+/).map(w=>w[0]).slice(0,2).join('')||'VA').toUpperCase();
      const fmtRate = (n) => {
        const x = Number(n);
        return Number.isFinite(x) ? `$${x.toFixed(0)}/hr` : '';
      };
      const card = (r) => {
        const skills = [];
        (r.categories||[]).slice(0,2).forEach(c=>skills.push(c));
        (r.languages||[]).slice(0,2).forEach(l=>skills.push(l));
        return `
        <article class="card reveal">
          <div class="card-top">
            <div style="display:flex;gap:10px;align-items:center">
              <div class="avatar">${esc(initials(r.name))}</div>
              <div>
                <h3 style="margin:0">${esc(r.name||'—')}</h3>
                ${r.rating ? `<span class=\"badge\" style=\"margin-top:4px\">⭐ ${esc(Number(r.rating).toFixed(1))}${r.reviews_count ? ` (${esc(r.reviews_count)} reviews)` : ''}</span>` : ''}
              </div>
            </div>
            <div style="font-weight:700;font-size:18px">${fmtRate(r.hourly_rate)}</div>
          </div>
          <div class="skills">${skills.map(s => `<span class=\"skill\">${esc(s)}</span>`).join('')}</div>
          <div class="card-actions">
            <a class="btn btn-primary" href="/p/${esc(r.id)}">View Profile</a>
          </div>
        </article>`;
      };
      const chunk = (arr, size) => {
        const out = [];
        for (let i = 0; i < arr.length; i += size) out.push(arr.slice(i, i + size));
        return out;
      };
      let page = 0; let pages = [];
      const update = () => {
        track.style.transform = `translateX(-${page * 100}%)`;
        btnPrev.disabled = pages.length <= 1;
        btnNext.disabled = pages.length <= 1;
      };
      const render = (rows) => {
        pages = chunk(rows, 3);
        if (!pages.length) {
          track.innerHTML = '<div class="carousel-page"><div class="cards"><p style="color:var(--muted);text-align:center;margin:12px 0">No experts available yet.</p></div></div>';
          btnPrev.style.display = 'none';
          btnNext.style.display = 'none';
          return;
        }
        track.innerHTML = pages.map(group => `
          <div class="carousel-page">
            <div class="cards">
              ${group.map(card).join('')}
            </div>
          </div>
        `).join('');
        track.querySelectorAll('.reveal').forEach(el => io_reveal.observe(el));
        page = 0;
        btnPrev.style.display = btnNext.style.display = '';
        update();
      };
      const load = async () => {
        try {
          const res = await fetch('/api/listings?limit=30', { cache: 'no-store' });
          const json = await res.json();
          if (Array.isArray(json?.data)) render(json.data);
          else render([]);
        } catch(e){
          render([]);
        }
      };
      btnNext.addEventListener('click', () => { if (!pages.length) return; page = (page + 1) % pages.length; update(); });
      btnPrev.addEventListener('click', () => { if (!pages.length) return; page = (page - 1 + pages.length) % pages.length; update(); });
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', load);
      } else { load(); }
    })();
  </script>
</body>
</html>