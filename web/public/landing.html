<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Urzistaff — The Art of Assistance</title>
  <meta name="description" content="Find your perfect virtual partner. A curated marketplace for elite, vetted Virtual Assistants." />
  <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' rx='12' fill='%237F5AF0'/><text x='50%' y='54%' text-anchor='middle' font-size='34' font-family='Arial' fill='white'>UZ</text></svg>" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet" />
  <style>
    :root { --primary:#7F5AF0; --accent-1:#00C6CF; --accent-2:#F04E8A; --light-bg:#FFFFFF; --light-surface:#F8FAFC; --light-elev:#FFFFFF; --light-text:#0F172A; --light-muted:#475569; --light-border:#E2E8F0; --dark-bg:#0B0A10; --dark-surface:#14131B; --dark-elev:#1C1B22; --dark-text:#E5E7EB; --dark-muted:#94A3B8; --dark-border:#2B2A33; --radius:14px; --pill:999px; --shadow:0 8px 32px rgba(0,0,0,0.1); --ease-out:cubic-bezier(.22,1,.36,1); --space-1:4px; --space-2:8px; --space-3:clamp(10px,2vw,16px); --space-4:clamp(12px,2.4vw,20px); --space-6:clamp(16px,3vw,24px); --card-pad:var(--space-4); --card-gap:var(--space-3); --text-sm:clamp(12px,1.2vw,14px); --text-md:clamp(14px,1.4vw,16px); --text-lg:clamp(16px,1.6vw,20px); --text-xl:clamp(24px,4vw,40px);}
    html[data-theme="light"]{--bg:var(--light-bg);--surface:var(--light-surface);--elev:var(--light-elev);--text:var(--light-text);--muted:var(--light-muted);--border:var(--light-border)}
    html[data-theme="dark"]{--bg:var(--dark-bg);--surface:var(--dark-surface);--elev:var(--dark-elev);--text:var(--dark-text);--muted:var(--dark-muted);--border:var(--dark-border);--shadow:0 8px 40px rgba(0,0,0,0.4)}
    *,*::before,*::after{box-sizing:border-box} html{scroll-behavior:smooth; scrollbar-gutter: stable both-edges}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui;color:var(--text);background:var(--bg);line-height:1.6;transition:background-color .4s var(--ease-out),color .4s var(--ease-out)}
    .container{max-width:1200px;margin:0 auto;padding:0 var(--space-4)} .reveal{opacity:0;transform:translateY(20px)} .reveal.in{opacity:1;transform:none;transition:opacity .8s var(--ease-out),transform .8s var(--ease-out)} @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
    .prologue-hero{height:100vh;width:100%;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:16px;background-color:var(--bg);overflow:hidden}
    .prologue-hero-content{z-index:10}
    @keyframes popInCenter{0%{opacity:0;transform:scale(.82)}60%{opacity:1;transform:scale(1.02)}100%{opacity:1;transform:none}}
    .prologue-hero h1{animation:popInCenter 1.35s var(--ease-out) .1s both;will-change:transform,opacity}
    .prologue-hero h1{font-family:"Space Grotesk",sans-serif;font-weight:800;font-size:clamp(3.25rem,8.5vw,6.5rem);line-height:1.08;letter-spacing:-2px;margin:0 auto 12px;max-width:1000px;color:var(--text)}
    .prologue-hero p.subtitle { font-size: var(--text-lg); color: var(--muted); max-width: 600px; margin: 0 auto 36px; animation: popInCenter 1.35s var(--ease-out) .3s both; }
    .prologue-hero .highlight{display:inline-block;background:linear-gradient(45deg,#7F5AF0,#00C6CF);-webkit-background-clip:text;background-clip:text;color:transparent}
    .cta-group{display:flex;gap:12px;justify-content:center;margin-top:22px;flex-wrap:wrap}
    .cta-group .btn{min-width:180px;padding:12px 22px; animation:popInCenter 1.2s var(--ease-out) .85s both;will-change:transform,opacity}
    #constellation{position:absolute;inset:0;z-index:1}
    .main-content{background:var(--bg);position:relative;z-index:20}
    .section{padding:clamp(60px,10vw,100px) 0} .section-title{font-family:"Space Grotesk",sans-serif;font-size:var(--text-xl);text-align:center;margin-bottom:clamp(24px, 5vw, 48px)}
    .section-subtitle{font-size:var(--text-lg);color:var(--muted);text-align:center;margin-top:-24px;margin-bottom:48px;max-width:700px;margin-left:auto;margin-right:auto}
    .grid-2{display:grid;grid-template-columns:1fr;gap:48px}@media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr;gap:64px;align-items:center}}
    .cards{display:grid;gap:var(--card-gap);grid-template-columns:1fr} @media(min-width:600px){.cards{grid-template-columns:repeat(2,1fr)}} @media(min-width:1024px){.cards{grid-template-columns:repeat(3,1fr)}}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:var(--card-pad);display:flex;flex-direction:column;transition:transform .2s var(--ease-out),box-shadow .2s var(--ease-out);position:relative;overflow:hidden;container-type:inline-size;z-index:1}
    .card:hover{transform:translateY(-4px);box-shadow:var(--shadow);border-color:color-mix(in oklab,var(--primary),var(--border) 60%);z-index:2}
    .card::before{content:"";position:absolute;left:var(--x,50%);top:var(--y,50%);width:150px;height:150px;background:radial-gradient(circle,color-mix(in oklab,var(--primary),transparent 70%),transparent 100%);transform:translate(-50%,-50%);opacity:0;transition:opacity .4s var(--ease-out);pointer-events:none}
    .card:hover::before{opacity:.15}
    .card-top{display:flex;justify-content:space-between;align-items:start} .avatar{width:44px;height:44px;border-radius:var(--pill);display:grid;place-items:center;font-weight:700;color:#fff;background:linear-gradient(135deg,var(--primary),var(--accent-1));flex-shrink:0}
    .badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:var(--pill);font-size:12px;border:1px solid var(--border);color:var(--muted);background:var(--elev)}
    .skills{display:flex;gap:var(--space-2);flex-wrap:wrap;margin:var(--space-3) 0} .skill{font-size:var(--text-sm);padding:6px 10px;border-radius:var(--pill);border:1px solid var(--border);color:var(--muted);background:var(--elev)}
    .card-actions{display:flex;gap:var(--space-2);margin-top:auto;flex-wrap:wrap} .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;border-radius:var(--pill);padding:10px 16px;font-weight:600;cursor:pointer;border:1px solid var(--border);background:var(--surface);color:var(--text);transition:transform .2s var(--ease-out),box-shadow .2s var(--ease-out);min-height:44px;text-decoration:none}
    .btn:hover{transform:translateY(-2px);box-shadow:var(--shadow)} .btn-primary{border-color:var(--primary);background:var(--primary);color:#fff}
    :focus-visible{outline:2px solid color-mix(in oklab,var(--primary),#fff 20%);outline-offset:2px}
    .why-us-visual{position:relative;isolation:isolate;perspective:1000px}
    .why-us-visual::after{content:"";position:absolute;inset:auto -10% -12% -10%;height:40%;background:radial-gradient(60% 60% at 50% 0%, color-mix(in oklab, var(--primary), transparent 70%), transparent);filter:blur(30px);opacity:.45;z-index:0;pointer-events:none}
    .process-visual{position:relative;z-index:1;border-radius:16px;aspect-ratio:4/3;object-fit:cover;width:100%;box-shadow:0 16px 40px rgba(0,0,0,.18);transform-style:preserve-3d;transition:transform .55s var(--ease-out), filter .55s var(--ease-out), box-shadow .55s var(--ease-out);filter:saturate(1.05) contrast(1.03) brightness(1.02)}
    .why-us-visual:hover .process-visual{transform:translateZ(14px) rotateX(3deg) rotateY(-4deg) scale(1.02);filter:saturate(1.1) contrast(1.06)}
    @media (hover: none){.why-us-visual:hover .process-visual{transform:none}}

    .why-us-text{position:relative}
    .why-us-text::before{content:"";position:absolute;left:-12px;top:0;bottom:0;width:4px;border-radius:4px;background:linear-gradient(180deg,var(--primary),color-mix(in oklab,var(--primary),var(--accent-1) 40%));opacity:.7}
    .why-us-text h2{background:linear-gradient(120deg, color-mix(in oklab,var(--text),#fff 10%), color-mix(in oklab,var(--primary),#fff 10%));-webkit-background-clip:text;background-clip:text;color:transparent}
    .why-us-text .feature-list li{position:relative}
    .why-us-text .feature-list li::after{content:"";position:absolute;left:0;right:60%;bottom:-6px;height:1px;background:linear-gradient(90deg, color-mix(in oklab,var(--primary),transparent 40%), transparent);opacity:.35}
    .process-step{position:relative;border-left:2px solid var(--primary);padding-left:24px;margin-bottom:32px} .process-step h3{font-family:"Space Grotesk";font-size:20px;margin:0 0 4px} .process-step p{color:var(--muted);margin:0}
    .process-step::before { content: ''; position: absolute; left: -9px; top: 2px; width: 16px; height: 16px; background: var(--primary); border-radius: 50%; border: 3px solid var(--surface); }
    .feature-list{list-style:none;padding:0;margin:24px 0 0;display:grid;gap:16px}
    .feature-list li{display:flex;align-items:flex-start;gap:12px;font-size:var(--text-md)}
    .feature-list svg{width:22px;height:22px;color:var(--primary);flex-shrink:0;margin-top:2px}
    .guarantee-box{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:clamp(24px, 5vw, 40px);margin-top:40px}
    .guarantee-box h3{font-family:"Space Grotesk";font-size:24px;margin:0 0 16px;display:flex;align-items:center;gap:12px}
    .guarantee-box h3 svg{color:var(--accent-1)}
    .guarantee-box p { color: var(--muted); max-width: 65ch; }
    .guarantee-box p:last-of-type { margin-bottom: 0; }
    .cta-section { background: linear-gradient(45deg, var(--surface), var(--bg)); padding: clamp(60px, 10vw, 80px) 0; text-align: center; }
    .cta-section h2 { font-family: "Space Grotesk"; font-size: var(--text-xl); color: var(--text); max-width: 600px; margin: 0 auto 16px; }
    .cta-section p { color: var(--muted); margin: 0 auto 32px; max-width: 500px; }
    /* tighten spacing of guarantee section on light */
    #guarantee.section { padding: clamp(40px, 6vw, 60px) 0; }
    .cta-section .btn { background: var(--primary); color: #fff; border-color: var(--primary); font-size: 18px; padding: 14px 32px; }
    /* Carousel for home listings */
    .carousel{position:relative}
    .carousel-viewport{overflow:hidden; width:100%; padding-top:6px; overscroll-behavior:contain}
    .carousel-track{display:flex;transition:transform .55s var(--ease-out);will-change:transform}
    .carousel-page{flex:0 0 100%;padding:0}
    .carousel-page .cards{grid-template-columns:repeat(3,1fr); grid-auto-rows:auto}
    .carousel .card{min-height:190px}
    @media(max-width:1023px){.carousel-page .cards{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:599px){.carousel-page .cards{grid-template-columns:1fr}}
    .carousel-btn{position:absolute;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:50%;border:1px solid var(--border);background:var(--surface);color:var(--text);cursor:pointer;transition:transform .2s var(--ease-out), border-color .2s var(--ease-out);z-index:5}
    .carousel-btn.prev{left:-56px}
    .carousel-btn.next{right:-56px}
    .carousel-btn:hover{transform:translateY(-52%);border-color:#444}
    .carousel-btn[disabled]{opacity:.4;cursor:not-allowed;transform:translateY(-50%)}
    .carousel-btn svg{width:20px;height:20px}
    @media(max-width:1200px){.carousel-btn.prev{left:-28px}.carousel-btn.next{right:-28px}}
    @media(max-width:768px){.carousel-btn.prev{left:8px}.carousel-btn.next{right:8px}}
  </style>
</head>
<body>

  <div class="prologue-hero">
    <canvas id="constellation" aria-hidden="true"></canvas>
    <div class="prologue-hero-content">
      <h1>Your <span class="highlight">game&#8209;changing</span> Virtual Assistant is here.</h1>
      <p class="subtitle">Tired of wasting time on unreliable VAs? We provide handpicked Virtual Assistants, fully trained and ready from day one.</p>
      <div class="cta-group">
        <a class="btn btn-primary" href="/shop">Browse assistants</a>
        <a class="btn" href="/faq">Why Urzistaff?</a>
      </div>
    </div>
  </div>

  <main class="main-content" id="content">

    <section class="section" id="why-us">
        <div class="container grid-2">
            <div class="why-us-text reveal">
                <h2 class="section-title" style="text-align:left; margin-bottom: 16px;">Stop the endless interviews.</h2>
                <p style="color:var(--muted); font-size: var(--text-lg);">Hiring the wrong VA doesn’t just cost money – it costs time, endless frustration, and tasks that never get done the way you need them. That’s why we built Urzistaff.</p>
                <ul class="feature-list">
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                        <span><strong>VAs trained to follow systems & SOPs.</strong> Skip the learning curve.</span>
                    </li>
                    <li>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                      <span><strong>Proven reliability.</strong> All assistants are tested for IQ, English proficiency, and typing speed.</span>
                    </li>
                    <li>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                      <span><strong>Instant replacement guarantee.</strong> If your VA underperforms, we replace them at no cost and with zero downtime.</span>
                    </li>
                    <li>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                      <span><strong>Ongoing support.</strong> You're never left alone in the process. We're here to help.</span>
                    </li>
                </ul>
            </div>
            <div class="why-us-visual reveal">
                <img loading="lazy" src="/why-us.png" alt="Professionals collaborating" class="process-visual" />
            </div>
        </div>
    </section>

    <section class="section" id="browse" style="background:var(--surface)">
      <div class="container">
        <h2 class="section-title reveal">Browse Available Experts</h2>
        <p class="section-subtitle reveal">We only accept a limited number of new clients each month to ensure quality. Find your perfect match below.</p>
        <div class="carousel">
          <button class="carousel-btn prev" id="homePrev" aria-label="Previous">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 6l-6 6 6 6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <div class="carousel-viewport">
            <div class="carousel-track" id="homeListings"></div>
          </div>
          <button class="carousel-btn next" id="homeNext" aria-label="Next">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 6l6 6-6 6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>
    </section>

    <section class="section" id="guarantee">
        <div class="container">
            <div class="guarantee-box reveal">
                <h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    Our Replacement Guarantee
                </h3>
                <p>We make sure you never lose time or money. If the VA you hire doesn’t respond within 72 hours, or becomes unavailable within the first 2 weeks after hiring, you’ll be able to choose another VA of the same value — or multiple VAs that match the original value.</p>
                <p style="margin-top:16px; color: var(--text);"><strong>MM accepted:</strong> @marshal</p>
            </div>
        </div>
    </section>

    <section class="cta-section" id="contact">
        <div class="container">
            <h2 class="reveal">Ready to reclaim your time?</h2>
            <p class="reveal">We only accept a limited number of new clients each month to ensure quality.</p>
            <div class="reveal">
                <a href="https://t.me/raegency" target="_blank" rel="noopener noreferrer" class="btn btn-primary">Write @raegency to get your VAs today</a>
            </div>
        </div>
    </section>

  </main>
  <section class="theme-toggle-section" aria-label="Theme switcher">
    <div class="container" style="padding:20px 0; display:flex; align-items:center; justify-content:space-between; gap:12px;">
      <div style="font-weight:600; color: var(--muted)">Copyright by UrziStaff | All Rights Reserved by Gabriel Valentin Dragomir</div>
      <button id="toggleTheme" class="btn" type="button">Switch to Dark</button>
    </div>
  </section>
  <script>
    (function(){
      // Subtle interactive tilt for the photo card
      const wrap = document.querySelector('.why-us-visual');
      const img = wrap?.querySelector('.process-visual');
      if (wrap && img) {
        const max = 6; // deg
        wrap.addEventListener('mousemove', (e) => {
          const r = wrap.getBoundingClientRect();
          const x = (e.clientX - r.left) / r.width - 0.5;
          const y = (e.clientY - r.top) / r.height - 0.5;
          img.style.transform = `rotateY(${x*max}deg) rotateX(${ -y*max}deg) translateZ(14px) scale(1.02)`;
        });
        wrap.addEventListener('mouseleave', () => {
          img.style.transform = '';
        });
      }
    })();
    // Theme: respect saved preference, do not auto-switch hero in light mode
    (function(){
      const root = document.documentElement;
      try { const saved = localStorage.getItem('theme'); if (saved) root.setAttribute('data-theme', saved); } catch {}
      const btn = document.getElementById('toggleTheme');
      const updateBtn = () => { if(!btn) return; btn.textContent = (root.getAttribute('data-theme') === 'dark') ? 'Switch to Light' : 'Switch to Dark'; };
      btn?.addEventListener('click', () => {
        const cur = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
        const next = cur === 'dark' ? 'light' : 'dark';
        root.setAttribute('data-theme', next);
        try { localStorage.setItem('theme', next); } catch {}
        updateBtn();
      });
      updateBtn();
    })();
    const hero=document.querySelector('.prologue-hero');const root=document.documentElement;const io_reveal=new IntersectionObserver(e=>e.forEach(entry=>entry.isIntersecting&&entry.target.classList.add('in')),{threshold:0.1});document.querySelectorAll('.reveal').forEach(el=>io_reveal.observe(el));const cards=document.querySelectorAll('.card');cards.forEach(card=>{card.addEventListener('mousemove',e=>{const rect=card.getBoundingClientRect();card.style.setProperty('--x',`${e.clientX-rect.left}px`);card.style.setProperty('--y',`${e.clientY-rect.top}px`);});});const canvas=document.getElementById('constellation');const ctx=canvas.getContext('2d');let dots=[];let running=true;const prefersReduced=window.matchMedia('(prefers-reduced-motion: reduce)').matches;const isSmall=window.matchMedia('(max-width: 600px)').matches;const particleFactor=prefersReduced?0:(isSmall?0.5:1);const setupCanvas=()=>{if(!canvas)return;canvas.width=window.innerWidth;canvas.height=window.innerHeight;dots=[];const baseCount=canvas.width/18;const count=Math.max(10,Math.floor(baseCount*particleFactor));for(let i=0;i<count;i++){dots.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,vx:-0.5+Math.random(),vy:-0.5+Math.random(),radius:Math.random()*1.5});}};setupCanvas();const vis=()=>{running=document.visibilityState==='visible';};document.addEventListener('visibilitychange',vis);const ioCanvas=new IntersectionObserver(([e])=>{running=e.isIntersecting;},{threshold:0.1});if(canvas)ioCanvas.observe(canvas);function animateLoop(){if(running&&!prefersReduced){ctx.clearRect(0,0,canvas.width,canvas.height);dots.forEach(d=>{d.x+=d.vx;d.y+=d.vy;if(d.x<0||d.x>canvas.width)d.vx=-d.vx;if(d.y<0||d.y>canvas.height)d.vy=-d.vy;ctx.beginPath();ctx.arc(d.x,d.y,d.radius,0,Math.PI*2);ctx.fillStyle='rgba(127, 90, 240, 0.6)';ctx.fill();});for(let i=0;i<dots.length;i++){for(let j=i+1;j<dots.length;j++){let dist=Math.hypot(dots[i].x-dots[j].x,dots[i].y-dots[j].y);if(dist<120){ctx.strokeStyle=`rgba(127, 90, 240, ${0.8-dist/120})`;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(dots[i].x,dots[i].y);ctx.lineTo(dots[j].x,dots[j].y);ctx.stroke();}}}}requestAnimationFrame(animateLoop);}animateLoop();window.addEventListener('resize',setupCanvas);
    (function(){
      const track = document.getElementById('homeListings');
      const btnPrev = document.getElementById('homePrev');
      const btnNext = document.getElementById('homeNext');
      if (!track || !btnPrev || !btnNext) return;
      const esc = (s) => String(s ?? '').replace(/[&<>"']/g, (c) => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]));
      const initials = (name='') => (name.trim().split(/\s+/).map(w=>w[0]).slice(0,2).join('')||'VA').toUpperCase();
      const fmtRate = (n) => {
        const x = Number(n);
        return Number.isFinite(x) ? `$${x.toFixed(0)}/hr` : '';
      };
      const card = (r) => {
        const skills = [];
        (r.categories||[]).slice(0,2).forEach(c=>skills.push(c));
        (r.languages||[]).slice(0,2).forEach(l=>skills.push(l));
        return `
        <article class="card reveal">
          <div class="card-top">
            <div style="display:flex;gap:10px;align-items:center">
              <div class="avatar">${esc(initials(r.name))}</div>
              <div>
                <h3 style="margin:0">${esc(r.name||'—')}</h3>
                ${r.rating ? `<span class=\"badge\" style=\"margin-top:4px\">⭐ ${esc(Number(r.rating).toFixed(1))}${r.reviews_count ? ` (${esc(r.reviews_count)} reviews)` : ''}</span>` : ''}
              </div>
            </div>
            <div style="font-weight:700;font-size:18px">${fmtRate(r.hourly_rate)}</div>
          </div>
          <div class="skills">${skills.map(s => `<span class=\"skill\">${esc(s)}</span>`).join('')}</div>
          <div class="card-actions">
            <a class="btn btn-primary" href="/p/${esc(r.id)}">View Profile</a>
          </div>
        </article>`;
      };
      const chunk = (arr, size) => {
        const out = [];
        for (let i = 0; i < arr.length; i += size) out.push(arr.slice(i, i + size));
        return out;
      };
      let page = 0; let pages = [];
      const update = () => {
        track.style.transform = `translateX(-${page * 100}%)`;
        btnPrev.disabled = pages.length <= 1;
        btnNext.disabled = pages.length <= 1;
      };
      const render = (rows) => {
        pages = chunk(rows, 3);
        if (!pages.length) {
          track.innerHTML = '<div class="carousel-page"><div class="cards"><p style="color:var(--muted);text-align:center;width:100%;margin:12px 0">No experts available yet.</p></div></div>';
          btnPrev.style.display = 'none';
          btnNext.style.display = 'none';
          return;
        }
        track.innerHTML = pages.map(group => `
          <div class="carousel-page">
            <div class="cards">
              ${group.map(card).join('')}
            </div>
          </div>
        `).join('');
        track.querySelectorAll('.reveal').forEach(el => io_reveal.observe(el));
        page = 0;
        btnPrev.style.display = btnNext.style.display = '';
        update();
      };
      const load = async () => {
        try {
          const res = await fetch('/api/listings?limit=30', { cache: 'no-store' });
          const json = await res.json();
          if (Array.isArray(json?.data)) render(json.data);
          else render([]);
        } catch(e){
          render([]);
        }
      };
      btnNext.addEventListener('click', () => { if (!pages.length) return; page = (page + 1) % pages.length; update(); });
      btnPrev.addEventListener('click', () => { if (!pages.length) return; page = (page - 1 + pages.length) % pages.length; update(); });
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', load);
      } else { load(); }
    })();
  </script>
</body>
</html>